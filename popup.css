/* Modern popup styling - updated theme */
:root{
	--bg: #0f1724; /* page background (dark) */
	--panel: #0b1220; /* main panel */
	--card: #071028; /* card background */
	--muted: #98a0b6;
	--text: #e6eefc;
	--accent: #6ee7b7; /* teal mint */
	--accent-2: #60a5fa; /* blue */
	--danger: #fb7185;
	--glass: rgba(255,255,255,0.03);
	--shadow: 0 10px 30px rgba(2,6,23,0.6);
}
html{ width:800px; }
body{ font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto; margin:0; padding:0; width:800px; min-width:800px; background:linear-gradient(180deg,#071431 0%, #041127 100%); color:var(--text); }

/* header full-width */
.header-strip{ width:100%; box-sizing:border-box; display:flex; align-items:center; justify-content:space-between; padding:14px 16px; background:linear-gradient(90deg,#0ea5a3 0%, #6366f1 100%); color:rgba(255,255,255,0.98); }
.header-strip .title{ font-weight:700; font-size:16px; letter-spacing:0.2px; display:flex; align-items:center; gap:8px; }
.header-strip .version{ font-size:12px; opacity:0.85; font-weight:500; }

.container{ margin:14px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; padding:12px; box-shadow:var(--shadow); }
select{ padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:var(--text); }

.tabs{ background:transparent; border-radius:8px; padding:6px; }
.tab-headers{ display:flex; gap:8px; margin-bottom:10px; justify-content:center; }
.tab-btn{ flex:0 0 auto; padding:8px 10px; border-radius:10px; border:1px solid transparent; background:transparent; color:var(--muted); cursor:pointer; font-weight:600; transition:all .18s ease; }
.tab-btn:hover{ color:var(--text); transform:translateY(-1px); }
.tab-btn.active{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#04263b; box-shadow:0 8px 20px rgba(99,102,241,0.12); border:1px solid rgba(255,255,255,0.06); }

.tab-contents{ min-height:180px; }
.tab-content{ display:none; }
.tab-content.active{ display:block; }

/* EQ bands arranged vertically: slider on top, label below */
#bands{ display:flex; flex-direction:row; gap:8px; max-height:340px; overflow-x:hidden; overflow-y:hidden; padding:8px; align-items:center; justify-content:center; }
.band{ display:flex; flex-direction:column; gap:6px; align-items:center; justify-content:center; padding:10px 6px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); border:1px solid rgba(255,255,255,0.02); flex:0 0 auto; width:48px; min-height:220px; box-sizing:border-box; }
.band label{ width:100%; font-size:11px; color:var(--muted); text-align:center; white-space:nowrap; order:2; }
.band input[type=range]{ width:180px; height:20px; transform:rotate(-90deg); -webkit-transform:rotate(-90deg); transform-origin:50% 50%; -webkit-transform-origin:50% 50%; display:block; margin:90px -82px; order:1; }
.band .val{ display:none; }

.comp-row{ display:flex; align-items:center; gap:8px; margin:8px 0; }
.comp-row label{ width:76px; font-size:13px; color:var(--muted); }
.comp-row input[type=range]{ flex:1; }

.footer{ display:none; }

/* buttons */
button{ font-weight:600; padding:8px 12px; border-radius:10px; border:0; cursor:pointer; }
button.primary{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#04263b; box-shadow:0 8px 20px rgba(99,102,241,0.12); }
button.ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.03); }
button.danger{ background:linear-gradient(90deg,#fb7185,#f97316); color:#071022; }

.small{ font-size:12px; color:var(--muted); }

.preset-row{ display:flex; gap:8px; margin-bottom:8px; }
.preset-row input{ flex:1; padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); }
.preset-list{ display:flex; flex-direction:column; gap:8px; max-height:160px; overflow:auto; margin-bottom:8px; }
.preset-item{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:8px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); border:1px solid rgba(255,255,255,0.02); }
.preset-item .name{ font-weight:700; color:var(--text); }
.preset-item .actions{ display:flex; gap:8px; }
.preset-item button{ padding:6px 10px; border-radius:8px; }

/* range input styling */
input[type=range]{ appearance:none; -webkit-appearance:none; -moz-appearance:none; background:transparent; height:28px; }
input[type=range]::-webkit-slider-runnable-track{ height:6px; background:linear-gradient(90deg,var(--accent),var(--accent-2)); border-radius:6px; }
input[type=range]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:16px; height:16px; border-radius:50%; background:#fff; margin-top:-5px; box-shadow:0 4px 10px rgba(2,6,23,0.6); }
input[type=range]:focus{ outline:none; }
input[type=range]::-moz-range-track{ height:6px; background:linear-gradient(90deg,var(--accent),var(--accent-2)); border-radius:6px; }
input[type=range]::-moz-range-thumb{ width:16px; height:16px; border-radius:50%; background:#fff; box-shadow:0 4px 10px rgba(2,6,23,0.6); border:0; }
/* Adjust thumb margin when slider is rotated */
.band input[type=range]::-webkit-slider-thumb{ margin-top:-5px; margin-left:0; }
.band input[type=range]::-moz-range-thumb{ margin-top:0; }

/* responsive small width handling */
@media (max-width:420px){ body{ width:380px; } }
